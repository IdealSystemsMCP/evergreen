import { hydrate as boxHydrate } from 'ui-box';
import { rehydrate } from 'glamor';
/**
 * You shouldn't have to manually run this.
 * This is mainly an export for testing purposes.
 */

export function hydrate(hydration) {
  if (hydration.uiBoxCache) {
    boxHydrate(hydration.uiBoxCache);
  }

  if (hydration.glamorIds) {
    rehydrate(hydration.glamorIds);
  }
}
export default function autoHydrate() {
  if (typeof window !== 'undefined' && typeof document !== 'undefined') {
    var hydration = document.querySelector('#evergreen-hydrate');

    if (hydration) {
      try {
        var hydrationObject = JSON.parse(hydration.innerHTML);
        hydrate(hydrationObject);
      } catch (error) {
        console.error('Evergreen automatic hydration object is invalid JSON', error);
      }
    }
  }
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJoeWRyYXRlIiwiYm94SHlkcmF0ZSIsInJlaHlkcmF0ZSIsImh5ZHJhdGlvbiIsInVpQm94Q2FjaGUiLCJnbGFtb3JJZHMiLCJhdXRvSHlkcmF0ZSIsIndpbmRvdyIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsImh5ZHJhdGlvbk9iamVjdCIsIkpTT04iLCJwYXJzZSIsImlubmVySFRNTCIsImVycm9yIiwiY29uc29sZSJdLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9zc3Ivc3JjL2F1dG9IeWRyYXRlLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGh5ZHJhdGUgYXMgYm94SHlkcmF0ZSB9IGZyb20gJ3VpLWJveCdcbmltcG9ydCB7IHJlaHlkcmF0ZSB9IGZyb20gJ2dsYW1vcidcblxuLyoqXG4gKiBZb3Ugc2hvdWxkbid0IGhhdmUgdG8gbWFudWFsbHkgcnVuIHRoaXMuXG4gKiBUaGlzIGlzIG1haW5seSBhbiBleHBvcnQgZm9yIHRlc3RpbmcgcHVycG9zZXMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBoeWRyYXRlKGh5ZHJhdGlvbikge1xuICBpZiAoaHlkcmF0aW9uLnVpQm94Q2FjaGUpIHtcbiAgICBib3hIeWRyYXRlKGh5ZHJhdGlvbi51aUJveENhY2hlKVxuICB9XG5cbiAgaWYgKGh5ZHJhdGlvbi5nbGFtb3JJZHMpIHtcbiAgICByZWh5ZHJhdGUoaHlkcmF0aW9uLmdsYW1vcklkcylcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBhdXRvSHlkcmF0ZSgpIHtcbiAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBkb2N1bWVudCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBjb25zdCBoeWRyYXRpb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjZXZlcmdyZWVuLWh5ZHJhdGUnKVxuXG4gICAgaWYgKGh5ZHJhdGlvbikge1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgaHlkcmF0aW9uT2JqZWN0ID0gSlNPTi5wYXJzZShoeWRyYXRpb24uaW5uZXJIVE1MKVxuICAgICAgICBoeWRyYXRlKGh5ZHJhdGlvbk9iamVjdClcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgJ0V2ZXJncmVlbiBhdXRvbWF0aWMgaHlkcmF0aW9uIG9iamVjdCBpcyBpbnZhbGlkIEpTT04nLFxuICAgICAgICAgIGVycm9yXG4gICAgICAgIClcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cbiJdLCJtYXBwaW5ncyI6IkFBQUEsU0FBU0EsT0FBTyxJQUFJQyxVQUFwQixRQUFzQyxRQUF0QztBQUNBLFNBQVNDLFNBQVQsUUFBMEIsUUFBMUI7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFDQSxPQUFPLFNBQVNGLE9BQVQsQ0FBaUJHLFNBQWpCLEVBQTRCO0VBQ2pDLElBQUlBLFNBQVMsQ0FBQ0MsVUFBZCxFQUEwQjtJQUN4QkgsVUFBVSxDQUFDRSxTQUFTLENBQUNDLFVBQVgsQ0FBVjtFQUNEOztFQUVELElBQUlELFNBQVMsQ0FBQ0UsU0FBZCxFQUF5QjtJQUN2QkgsU0FBUyxDQUFDQyxTQUFTLENBQUNFLFNBQVgsQ0FBVDtFQUNEO0FBQ0Y7QUFFRCxlQUFlLFNBQVNDLFdBQVQsR0FBdUI7RUFDcEMsSUFBSSxPQUFPQyxNQUFQLEtBQWtCLFdBQWxCLElBQWlDLE9BQU9DLFFBQVAsS0FBb0IsV0FBekQsRUFBc0U7SUFDcEUsSUFBTUwsU0FBUyxHQUFHSyxRQUFRLENBQUNDLGFBQVQsQ0FBdUIsb0JBQXZCLENBQWxCOztJQUVBLElBQUlOLFNBQUosRUFBZTtNQUNiLElBQUk7UUFDRixJQUFNTyxlQUFlLEdBQUdDLElBQUksQ0FBQ0MsS0FBTCxDQUFXVCxTQUFTLENBQUNVLFNBQXJCLENBQXhCO1FBQ0FiLE9BQU8sQ0FBQ1UsZUFBRCxDQUFQO01BQ0QsQ0FIRCxDQUdFLE9BQU9JLEtBQVAsRUFBYztRQUNkQyxPQUFPLENBQUNELEtBQVIsQ0FDRSxzREFERixFQUVFQSxLQUZGO01BSUQ7SUFDRjtFQUNGO0FBQ0YifQ==